{% extends 'base.html' %}
{% set active_page = "results" %}

{% block title %}Retirement Calculator{%endblock%}



{% block content %}

<h2> Summary of Results        </h2>
  <div class="container col-xxl-12 px-1 py-1">
    <div class=""container">
        <div class="row align-items-start">
             <div class="col-12">
                <div class="card card-body">
                    <h4>Age when you first start to run out of money = <strong>{{age_of_first_income_gap_output}}</strong>&nbsp  &nbsp <a type="button" class="btn btn-primary" href={{url_for('insights_page')}}>Improve this result </a></h4>
                    <p>Max Value of Pension Investments = <strong>{{Max_Pension_Investment_Value}}</strong></p>
                    <p>Max Value of Other Investments = <strong> {{Max_ISA_Value}}</strong></p>
                    <p><a href={{url_for('calculator_inputs')}}>Change what you entered</a>&nbsp &nbsp
                    <a href={{url_for('assumptions_form')}}> View and tweak assumptions</a></p>
                </div>
            </div>
            <div class="col-4">
                <div class="d-grid gap-2 mx-auto">
                    <p>
                </div>
            </div>

         </div>
    </div>
<br>







<h2> Detailed Results        </h2>
         <div class="card card-body">
                    <h5 class="'card-title">Net Worth Forecast</h5>
                    <p>This chart estimates how your net worth will change before and during retirement</p>
                    <canvas id="myChart_PVC" ></canvas>
                    <script>
                        var canvas = document.getElementById('myChart_PVC');
                        var imageObj = new Image();
                        imageObj.onload = chartGenerator_4('bar', 'myChart_PVC', true, {{labels_PVC}}, '{{legend_1_PVC}}', {{values_1_PVC}}, '{{legend_2_PVC}}',  {{values_2_PVC}}, '{{legend_3_PVC}}',  {{values_3_PVC}}, '{{legend_4_PVC}}',  {{values_4_PVC}} )
                        //----------------Close first accordian on loading this image-----------
                        //--imageObj.onload = document.getElementById('mydiv').className = 'newclass';
                    </script>
         </div>

        <div class="card card-body">
                    <h5 class="'card-title">Projected Gross Income</h5>
                    <p>This chart estimates how you can draw income from different sources each year to meet your net income objective</p>
                    <canvas id="myChart_Inc" ></canvas>
                    <script>
                        var canvas = document.getElementById('myChart_Inc');
                        var imageObj = new Image();
                        imageObj.onload = chartGenerator_5('bar', 'myChart_Inc', true ,{{labels_Inc}},'{{legend_1_Inc}}', {{values_1_Inc}},'{{legend_2_Inc}}', {{values_2_Inc}}, '{{legend_3_Inc}}', {{values_3_Inc}}, '{{legend_4_Inc}}', {{values_4_Inc}}, '{{legend_5_Inc}}', {{values_5_Inc}} )
                    </script>
        </div>

        <div class="card card-body">
                    <h5 class="'card-title">Projected Net Income</h5>
                    <p>This chart estimates your income after tax each year</p>
                    <canvas id="myChart_Net_Inc" ></canvas>
                    <script>
                        var canvas = document.getElementById('myChart_Net_Inc');
                        var imageObj = new Image();
                        imageObj.onload = chartGenerator_1('bar', 'myChart_Net_Inc', false ,{{labels_Net_Inc}},'{{legend_1_Net_Inc}}', {{values_1_Net_Inc}} )
                    </script>
        </div>

        <div class="card card-body">
                    <h5 class="'card-title">Projected Tax paid</h5>
                    <p>This chart estimates the income tax you will pay on income drawn each year</p>
                    <canvas id="myChart_Tax" ></canvas>
                    <script>
                        var canvas = document.getElementById('myChart_Tax');
                        var imageObj = new Image();
                        imageObj.onload = chartGenerator_1('bar', 'myChart_Tax', false,{{labels_Tax}},'{{legend_Tax}}', {{values_Tax}} )
                    </script>
        </div>
<p><a href={{url_for('results_data')}}>See results data</a></p>
</div>
{% endblock %}